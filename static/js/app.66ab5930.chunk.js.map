{"version":3,"sources":["src/routes/Home.js","src/routes/Detail.js","src/router.js","src/service/attractions.js","src/models/attractions.js","App.js"],"names":["connect","state","attractions","dispatch","GET_Attractions","callback","type","loading","componentDidMount","props","setState","handleCheckDetail","item","navigation","navigate","data","renderMapMarker","map","marker","title","caseName","description","coordinate","latitude","longitude","onCalloutPress","caseId","this","View","style","styles","container","ActivityIndicator","mapView","initialRegion","latitudeDelta","longitudeDelta","Component","StyleSheet","create","flex","alignItems","justifyContent","width","height","Detail","locate","route","params","Image","source","uri","representImage","content","ScrollView","Text","MaterialCommunityIcons","size","name","belongAddress","briefDescribe","specialValue","undefined","padding","marginBottom","lineHeight","fontSize","fontWeight","marginTop","MaterialCommunityIconsIcon","loadFont","Tabs","createBottomTabNavigator","TabsNavigator","Navigator","initialRouteName","Screen","component","Home","options","tabBarLabel","tabBarIcon","focused","color","Stack","createStackNavigator","StackNavigator","headerBackTitle","Router","NavigationContainer","axios","get","then","response","console","log","namespace","effects","call","put","payload","Alert","alert","text","onPress","reducers","SAVE_Attractions","SAVE_Favorites","favorites","app","model","AttractionsModel","start","store","_store","App"],"mappings":"4uBAKA,IAceA,eAdS,SAAAC,GACtB,MAAM,CACJC,YAAaD,EAAMC,YAAYA,gBAIR,SAAAC,GACzB,MAAM,CACJC,gBADI,SACYC,GACdF,EAAS,CAAEG,KAAM,8BAA8BD,iBAKtCL,CAAA,kLAKXC,MAAO,CACLM,SAAS,GANA,EASXC,kBAAoB,WAMlB,EAAKC,MAAML,iBALM,WACf,EAAKM,SAAS,CACZH,SAAS,QAZJ,EAkBXI,kBAAoB,SAAAC,GAClB,EAAKH,MAAMI,WAAWC,SAAS,SAAU,CAACC,KAAKH,KAnBtC,EAqBXI,gBAAkB,WAGhB,OAFwB,EAAKP,MAArBP,YAEWe,KAAI,SAAAC,GACrB,OACE,cAAC,IAAD,CAEEC,MAAOD,EAAOE,SACdC,YAAY,mDACZC,WAAY,CACVC,SAAUL,EAAOK,SACjBC,UAAWN,EAAOM,WAEpBC,eAAgB,kBAAM,EAAKd,kBAAkBO,KAPxCA,EAAOQ,YA3BT,oCAwCX,WACE,OAAIC,KAAK1B,MAAMM,QAEX,cAACqB,EAAA,EAAD,CAAMC,MAAOC,EAAOC,UAApB,SACE,cAACC,EAAA,EAAD,MAKF,cAACJ,EAAA,EAAD,CAAMC,MAAOC,EAAOC,UAApB,SACE,cAAC,IAAD,CACEF,MAAOC,EAAOG,QACdC,cAAe,CACbX,SAAU,WACVC,UAAW,YACXW,cAAe,EACfC,eAAgB,GANpB,SAQGT,KAAKX,0BA1DL,GAIMqB,cA8DfP,EAASQ,IAAWC,OAAO,CAC/BR,UAAW,CACTS,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBT,QAAQ,CACNU,MAAM,OACNC,OAAO,U,2cCxFUC,E,0HACjB,WACI,IAAMC,EAASnB,KAAKlB,MAAMsC,MAAMC,OAAOjC,KACvC,OACI,cAACa,EAAA,EAAD,CAAMC,MAAOC,EAAOC,UAApB,SACI,eAACH,EAAA,EAAD,CAAMC,MAAOC,EAAOC,UAApB,UACI,cAACkB,EAAA,EAAD,CACIpB,MAAOC,EAAOC,UACdmB,OAAQ,CAAEC,IAAKL,EAAOM,kBAE1B,cAACxB,EAAA,EAAD,CAAMC,MAAOC,EAAOuB,QAApB,SACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAM1B,MAAOC,EAAOX,MAApB,SAA4B2B,EAAO1B,WACnC,eAACmC,EAAA,EAAD,CAAM1B,MAAOC,EAAOlB,KAApB,UACI,cAAC4C,EAAA,EAAD,CAA4BC,KAAM,GAAIC,KAAK,eAD/C,qBAEQZ,EAAOa,iBAEf,eAACJ,EAAA,EAAD,CAAM1B,MAAOC,EAAOlB,KAApB,UACI,cAAC4C,EAAA,EAAD,CAA4BC,KAAM,GAAIC,KAAK,gBAD/C,iCAEUZ,EAAOc,iBAEQ,MAAxBd,EAAOe,mBAAgDC,IAAxBhB,EAAOe,aAA6B,KAChE,eAACN,EAAA,EAAD,CAAM1B,MAAOC,EAAOlB,KAApB,UACI,cAAC4C,EAAA,EAAD,CAA4BC,KAAM,GAAIC,KAAK,WAD/C,iCAEUZ,EAAOe,8B,GAxBbxB,aAoC9BP,EAASQ,IAAWC,OAAO,CAC7BR,UAAW,CACPS,KAAM,EACNE,eAAgB,SAChBD,WAAY,UAEhBY,QAAQ,CACJb,KAAM,GACNuB,QAAS,IAEb5C,MAAM,CACF6C,aAAc,EACdC,WAAY,GACZC,SAAU,GACVC,WAAY,QAEhBvD,KAAK,CACDwD,UAAW,EACXJ,aAAc,EACdC,WAAY,GACZC,SAAU,M,+aCpDlBG,IAA2BC,WAE3B,IAAMC,EAAOC,cACPC,EAAgB,kBAClB,cAACF,EAAKG,UAAN,CAAgBC,iBAAiB,OAAjC,SACI,cAACJ,EAAKK,OAAN,CACIlB,KAAK,OACLmB,UAAWC,EACXC,QAAS,CACLC,YAAa,eACbC,WAAY,cAAGC,QAAH,IAAYC,EAAZ,EAAYA,MAAZ,OACR,cAAC3B,EAAA,EAAD,CAA4B2B,MAAOA,EAAO1B,KAAM,GAAIC,KAAK,gBAOvE0B,EAAQC,cACRC,EAAiB,kBACnB,eAACF,EAAMV,UAAP,CAAiBC,iBAAiB,OAAlC,UACI,cAACS,EAAMR,OAAP,CACIlB,KAAK,OACLmB,UAAWJ,EACXM,QAAS,CACL5D,MAAO,sDAGf,cAACiE,EAAMR,OAAP,CACIlB,KAAK,SACLmB,UAAWhC,EACXkC,QAAS,kBAAgB,CACrBQ,gBAAiB,eACjBpE,MAFK,EAAG4B,MAEKC,OAAOjC,KAAKK,iBAMpBoE,E,0HACjB,WACI,OACI,cAACC,EAAA,EAAD,UACE,cAAC,EAAD,U,GAJsBpD,a,4DC9CvBjC,EAAkB,WAC3B,OAAOsF,IACNC,IAAI,iEACJC,MAAK,SAAAC,GAEF,OADAC,QAAQC,IAAIF,EAAS9E,MACd8E,EAAS9E,S,ikBCJV,OACViF,UAAW,cACX/F,MAAO,GACPgG,QAAS,CACH7F,gBADG,cACyC,IAA1BC,EAAyB,EAAzBA,SAAc6F,EAAW,EAAXA,KAAMC,EAAK,EAALA,IAAK,qGAEpB,OAFoB,kBAEdD,EAAK9F,GAFS,OAGrC,OADMyF,EAF+B,gBAG/BM,EAAI,CACN7F,KAAM,mBACN8F,QAASP,IALwB,OAOlCxF,GACCA,IARiC,gDAWrCgG,IAAMC,MAAM,eAAM,0DAAc,CAAC,CAACC,KAAM,eAAMC,QAAS,kBAAMV,QAAQC,IAAI,UAXpC,4DAgBjDU,SAAS,CACLC,iBADK,SACYzG,EADZ,GACgC,IAAXmG,EAAU,EAAVA,QACtB,cACOnG,GADP,IAEIC,YAAakG,KAGrBO,eAPK,SAOU1G,EAPV,GAO4B,IAAVmG,EAAS,EAATA,QACnB,cACOnG,GADP,IAEI2G,UAAWR,O,+aCzB3B,IAAMS,EAAMtE,cACZsE,EAAIC,MAAMC,GACVF,EAAIG,QACJ,IAAMC,EAAQJ,EAAIK,OAEGC,G,0HACnB,WACE,OACE,cAAC,IAAD,CAAUF,MAAOA,EAAjB,SACE,cAAC,EAAD,U,GAJyB5E,aAUlBC,IAAWC,OAAO,CAC/BR,UAAW,CACTS,KAAM,EACNC,WAAY,SACZC,eAAgB,a","file":"static/js/app.66ab5930.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { StyleSheet, View, ActivityIndicator } from 'react-native';\r\nimport MapView, { Marker } from 'react-native-maps';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = state =>{\r\n  return{\r\n    attractions: state.attractions.attractions,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return{\r\n    GET_Attractions(callback) {\r\n      dispatch({ type: 'attractions/GET_Attractions',callback})\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(\r\n  class Home extends Component{\r\n    state ={\r\n      loading: true,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n      const callback = () => {\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      };\r\n      this.props.GET_Attractions(callback);\r\n    };\r\n\r\n    handleCheckDetail = item =>{\r\n      this.props.navigation.navigate('Detail', {data:item});\r\n    }\r\n    renderMapMarker = () =>{\r\n      const { attractions } = this.props;\r\n      \r\n      return attractions.map(marker =>{\r\n        return(\r\n          <Marker\r\n            key={marker.caseId}\r\n            title={marker.caseName}\r\n            description=\"點擊查看詳細資料\"\r\n            coordinate={{\r\n              latitude: marker.latitude,\r\n              longitude: marker.longitude,\r\n            }}\r\n            onCalloutPress={() => this.handleCheckDetail(marker)}\r\n          />\r\n        );\r\n      });\r\n    };\r\n\r\n    render(){\r\n      if (this.state.loading){\r\n        return(\r\n          <View style={styles.container}>\r\n            <ActivityIndicator />\r\n          </View>\r\n        );\r\n      } else {\r\n        return(\r\n          <View style={styles.container}>\r\n            <MapView\r\n              style={styles.mapView}\r\n              initialRegion={{\r\n                latitude: 24.1705382,\r\n                longitude: 120.6079343,\r\n                latitudeDelta: 4,\r\n                longitudeDelta: 4,\r\n              }}>  \r\n              {this.renderMapMarker()}              \r\n            </MapView>\r\n          </View>\r\n        )\r\n      }      \r\n    }\r\n});\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  mapView:{\r\n    width:'100%',\r\n    height:'100%'\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Image, ScrollView } from 'react-native';\r\nimport MaterialCommunityIconsIcon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n\r\n\r\nexport default class Detail extends Component {  \r\n    render(){\r\n        const locate = this.props.route.params.data;\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.container}>\r\n                    <Image\r\n                        style={styles.container}\r\n                        source={{ uri: locate.representImage }}\r\n                    />\r\n                    <View style={styles.content}>\r\n                        <ScrollView>\r\n                            <Text style={styles.title}>{locate.caseName}</Text>\r\n                            <Text style={styles.item}>\r\n                                <MaterialCommunityIconsIcon size={16} name=\"map-marker\" />\r\n                                位置：{locate.belongAddress}\r\n                            </Text>\r\n                            <Text style={styles.item}>\r\n                                <MaterialCommunityIconsIcon size={16} name=\"application\" />\r\n                                地點描述：{locate.briefDescribe}\r\n                            </Text>\r\n                            {locate.specialValue === ' ' || locate.specialValue === undefined ? null : (\r\n                                <Text style={styles.item}>\r\n                                    <MaterialCommunityIconsIcon size={16} name=\"ticket\" />\r\n                                    特殊價值：{locate.specialValue}\r\n                                </Text>\r\n                            )}\r\n                        </ScrollView>\r\n                    </View>\r\n                </View>                \r\n            </View>\r\n        );\r\n    }; \r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    content:{\r\n        flex: 0.9,\r\n        padding: 12,\r\n    },\r\n    title:{\r\n        marginBottom: 4,\r\n        lineHeight: 22,\r\n        fontSize: 18,\r\n        fontWeight: 'bold',\r\n    },\r\n    item:{\r\n        marginTop: 4,\r\n        marginBottom: 4,\r\n        lineHeight: 20,\r\n        fontSize: 14,\r\n    },\r\n});","import React, {Component} from \"react\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\r\nimport { createStackNavigator} from '@react-navigation/stack';\r\nimport MaterialCommunityIconsIcon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n\r\nimport Home from './routes/Home';\r\nimport Detail from './routes/Detail';\r\n\r\nMaterialCommunityIconsIcon.loadFont();\r\n\r\nconst Tabs = createBottomTabNavigator();\r\nconst TabsNavigator = () =>(\r\n    <Tabs.Navigator initialRouteName=\"Home\">\r\n        <Tabs.Screen\r\n            name=\"Home\"\r\n            component={Home}\r\n            options={{\r\n                tabBarLabel: '首頁',\r\n                tabBarIcon: ({ focused, color}) => (\r\n                    <MaterialCommunityIconsIcon color={color} size={24} name=\"home\"/>\r\n                ),\r\n            }}\r\n        />\r\n    </Tabs.Navigator>\r\n);\r\n\r\nconst Stack = createStackNavigator();\r\nconst StackNavigator = () =>(\r\n    <Stack.Navigator initialRouteName=\"Tabs\">\r\n        <Stack.Screen\r\n            name=\"Tabs\"\r\n            component={TabsNavigator}\r\n            options={{\r\n                title :\"OpenData 旅遊景點分享APP\",\r\n            }}\r\n        />\r\n        <Stack.Screen\r\n            name=\"Detail\"\r\n            component={Detail}\r\n            options={({ route }) => ({\r\n                headerBackTitle: '返回',\r\n                title: route.params.data.caseName,\r\n            })}\r\n        />\r\n    </Stack.Navigator>\r\n);\r\n\r\nexport default class Router extends Component {\r\n    render(){\r\n        return (\r\n            <NavigationContainer>\r\n              <StackNavigator />\r\n            </NavigationContainer>\r\n        );\r\n    }\r\n}","import axios from 'axios';\r\n\r\nexport const GET_Attractions = ()=>{\r\n    return axios\r\n    .get('https://data.boch.gov.tw/data/opendata/v2/assetsCase/3.1.json')\r\n    .then(response => {\r\n        console.log(response.data);\r\n        return response.data;\r\n    });\r\n};","import { Alert } from 'react-native';\r\nimport { GET_Attractions } from '../service/attractions';\r\n\r\nexport default{\r\n    namespace: 'attractions',\r\n    state: {},\r\n    effects: {\r\n        * GET_Attractions({ callback }, { call, put}){\r\n            try{\r\n                const response = yield call(GET_Attractions);\r\n                yield put({\r\n                    type: 'SAVE_Attractions',\r\n                    payload: response,\r\n                });\r\n                if(callback){\r\n                    callback();\r\n                }\r\n            } catch(error){\r\n                Alert.alert('錯誤', '取得資料時發生錯誤!', [{text: '確認', onPress: () => console.log('OK')},\r\n                ]);\r\n            }\r\n        },\r\n    },\r\n    reducers:{\r\n        SAVE_Attractions(state, { payload }){\r\n            return{\r\n                ...state,\r\n                attractions: payload,\r\n            };\r\n        },\r\n        SAVE_Favorites(state, {payload}){\r\n            return{\r\n                ...state,\r\n                favorites: payload,\r\n            };\r\n        },\r\n    },\r\n};","import React, { Component } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport { create } from 'dva-core';\nimport { Provider } from 'react-redux';\nimport 'react-native-gesture-handler';\nimport Router from './src/router';\nimport AttractionsModel from './src/models/attractions'\n\nconst app = create();\napp.model(AttractionsModel);\napp.start();\nconst store = app._store;\n\nexport default class App extends Component {  \n  render(){\n    return (\n      <Provider store={store}>\n        <Router />\n      </Provider>\n    );\n  }; \n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});"],"sourceRoot":""}